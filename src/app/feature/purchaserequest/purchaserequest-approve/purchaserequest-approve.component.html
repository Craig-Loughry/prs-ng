<app-menu></app-menu>
<div class = "contentBox">
	<div class = "Box">
		<div class = 'lefthalf'>
			<h1><span id="barcode"></span>{{title}}</h1>
		</div>
		<div class="scrollbox prlist">
			<table class="table table-sm" *ngIf='purchaserequest'>
				<p *ngIf= '!purchaserequest'>Loading...</p>
				<thead>
					<tr>
						<th>User</th>
						<th>Description</th>
						<th>Justification</th>
						<th>Date Needed</th>
						<th>Delivery Mode</th>
						<th>Status</th>
						<th>Submitted</th>
						<th>Rejection Reason</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>{{ purchaserequest.User.UserName }}</td>
						<td>{{ purchaserequest.Description }}</td>
						<td>{{ purchaserequest.Justification }}</td>
						<td>{{ purchaserequest.DateNeeded }}</td>
						<td>{{ purchaserequest.DeliveryMode }}</td>
						<td>{{ purchaserequest.Status }}</td>
						<td>{{ purchaserequest.SubmittedDate }}</td>
						<td>{{ purchaserequest.ReasonForRejection }}</td>
					</tr>
				</tbody>
			</table>
		</div>
		<div class="addLineRow">
			<h3 class="lineitem">Line Items:</h3>
		</div>
			<div class="scrollbox">
				<table class="table table-sm" *ngIf="lines">
					<thead>
						<th>Product</th>
						<th>Price</th>
						<th>Quantity</th>
						<th>Details</th>
					</thead>
					<tbody>
						<tr *ngFor = 'let line of lines'>
						<td>{{ line.Product.Name }}</td>
						<td>{{ line.Product.Price  | currency}}</td>
						<td>{{ line.Quantity }}</td>
						<td class="actions">
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<h3 *ngIf="purchaserequest">Total:  <span class="moneyText">{{ purchaserequest.Total | currency}}</span></h3>
		<div *ngIf='lines' class="row">
			<button (click)="approve()" class='btn btn-success' title='Accept'>Approve</button>
			<span>
			<button (click)="reject()" class='btn btn-danger' title='Reject'>Reject</button>
			</span>
		</div>
	</div>
</div>